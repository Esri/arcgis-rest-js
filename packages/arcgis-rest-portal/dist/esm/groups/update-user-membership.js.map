{"version":3,"file":"update-user-membership.js","sourceRoot":"","sources":["../../../src/groups/update-user-membership.ts"],"names":[],"mappings":"AAAA;gBACgB;AAEhB,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AACzD,OAAO,EAAE,OAAO,EAAuB,MAAM,2BAA2B,CAAC;AAwBzE;;;;;;;;;;;;;;;;GAgBG;AACH,MAAM,UAAU,qBAAqB,CACnC,cAAwC;IAExC,MAAM,GAAG,GAAG,GAAG,YAAY,CAAC,cAAc,CAAC,qBACzC,cAAc,CAAC,EACjB,cAAc,CAAC;IACf,MAAM,IAAI,GAAQ;QAChB,cAAc,EAAE,cAAc,CAAC,cAAc;QAC7C,MAAM,EAAE,EAAE;KACX,CAAC;IACF,gFAAgF;IAChF,IAAI,cAAc,CAAC,aAAa,KAAK,OAAO,EAAE;QAC5C,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,cAAc,CAAC,KAAK,CAAC;KAC3C;SAAM;QACL,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;KAC1C;IACD,mBAAmB;IACnB,OAAO,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AAC5B,CAAC","sourcesContent":["/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { getPortalUrl } from \"../util/get-portal-url.js\";\nimport { request, IUserRequestOptions } from \"@esri/arcgis-rest-request\";\n\nexport interface IUpdateGroupUsersResult {\n  /**\n   * Array of results\n   */\n  results: any[];\n}\n\nexport interface IUpdateGroupUsersOptions extends IUserRequestOptions {\n  /**\n   * Group ID\n   */\n  id: string;\n  /**\n   * An array of usernames to be updated\n   */\n  users: string[];\n  /**\n   * Membership Type to update to\n   */\n  newMemberType: \"member\" | \"admin\";\n}\n\n/**\n * Change the user membership levels of existing users in a group\n *\n * ```js\n * import { updateUserMemberships } from \"@esri/arcgis-rest-portal\";\n *\n * updateUserMemberships({\n *   id: groupId,\n *   admins: [\"username3\"],\n *   authentication\n * })\n * .then(response);\n * ```\n *\n * @param requestOptions  - Options for the request\n * @returns A Promise\n */\nexport function updateUserMemberships(\n  requestOptions: IUpdateGroupUsersOptions\n): Promise<IUpdateGroupUsersResult> {\n  const url = `${getPortalUrl(requestOptions)}/community/groups/${\n    requestOptions.id\n  }/updateUsers`;\n  const opts: any = {\n    authentication: requestOptions.authentication,\n    params: {}\n  };\n  // add the correct params depending on the type of membership we are changing to\n  if (requestOptions.newMemberType === \"admin\") {\n    opts.params.admins = requestOptions.users;\n  } else {\n    opts.params.users = requestOptions.users;\n  }\n  // make the request\n  return request(url, opts);\n}\n"]}